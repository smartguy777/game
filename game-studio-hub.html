<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Game Studio Hub</title>
<style>
  body {font-family:sans-serif;margin:0;background:#111;color:#eee;}
  header {background:#222;padding:10px;display:flex;justify-content:space-around;align-items:center;}
  header button {background:#444;color:#eee;border:none;padding:10px 20px;border-radius:8px;cursor:pointer;}
  header button:hover {background:#666;}
  .screen {display:none;padding:20px;}
  .active {display:block;}
  iframe {width:100%;height:80vh;border:none;background:#000;}
  textarea {width:100%;height:70vh;background:#222;color:#0f0;border:none;padding:10px;font-family:monospace;}
  #chat-box {border:1px solid #444;height:70vh;overflow-y:auto;padding:10px;background:#222;}
  #chat-input {width:80%;padding:10px;background:#111;color:#fff;border:1px solid #444;}
  #send {padding:10px;background:#444;border:none;color:#fff;cursor:pointer;}
</style>
</head>
<body>
<header>
  <button onclick="showScreen('play')">üéÆ Play Games</button>
  <button onclick="showScreen('create')">üíª Code</button>
  <button onclick="showScreen('tutorial')">üìò Tutorial</button>
  <button onclick="showScreen('chat')">üí¨ Chat</button>
</header>

<div id="play" class="screen active">
  <h1>Game Collection</h1>
  <p>Upload or play community games here!</p>
  <input type="file" id="upload" accept=".html" onchange="uploadGame(event)">
  <div id="games"></div>
  <iframe id="gameFrame"></iframe>
</div>

<div id="create" class="screen">
  <h1>Game Editor</h1>
  <textarea id="code">// Write or paste your JS/HTML game here

<!doctype html><html><body><script>document.body.innerHTML='Hello Game World!';</script></body></html></textarea><br>
  <button onclick="runGame()">‚ñ∂Ô∏è Run</button>
</div>

<div id="tutorial" class="screen">
  <h1>Welcome to Game Studio</h1>
  <p>This is your place to code, run, and share browser games!</p>
  <ol>
    <li>Go to <b>Code</b> to write your JavaScript/HTML game.</li>
    <li>Click <b>Run</b> to preview it in a new window.</li>
    <li>Upload your finished game to the <b>Play</b> area to share it.</li>
  </ol>
</div>

<div id="chat" class="screen">
  <h1>Community Chat</h1>
  <div id="chat-box"></div>
  <input id="chat-input" placeholder="Type message..."> <button id="send">Send</button>
</div>

<script>
const screens = document.querySelectorAll('.screen');
function showScreen(id){screens.forEach(s=>s.classList.remove('active'));document.getElementById(id).classList.add('active');}

// Run game opens new screen
function runGame(){
  const code = document.getElementById('code').value;
  const blob = new Blob([code], {type:'text/html'});
  const url = URL.createObjectURL(blob);
  const win = window.open(url,'_blank');
}

// Upload and play games
function uploadGame(e){
  const file = e.target.files[0];
  const reader = new FileReader();
  reader.onload = function(evt){
    const div = document.createElement('div');
    div.innerHTML = `<button onclick="playUploaded('${evt.target.result.replace(/'/g, '')}')">Play Uploaded Game</button>`;
    document.getElementById('games').appendChild(div);
  }
  reader.readAsDataURL(file);
}
function playUploaded(url){
  const iframe = document.getElementById('gameFrame');
  iframe.src = url;
}

// Simple chat system (local only)
const chatBox = document.getElementById('chat-box');
const chatInput = document.getElementById('chat-input');
const sendBtn = document.getElementById('send');
const messages = [];
function renderChat(){chatBox.innerHTML = messages.map(m=>`<div>${m}</div>`).join('');chatBox.scrollTop = chatBox.scrollHeight;}
sendBtn.onclick = ()=>{if(chatInput.value.trim()){messages.push(chatInput.value.trim());chatInput.value='';renderChat();}};
</script>
</body>
</html>
